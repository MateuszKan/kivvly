"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[683],{8683:(e,s,t)=>{t.d(s,{default:()=>P});var a=t(5155),r=t(7396),n=t(6046),l=t(2115),d=t(4920),i=t(5565),o=t(1567);let c=l.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(d.bL,{ref:s,className:(0,o.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...r})});c.displayName=d.bL.displayName;let u=l.forwardRef((e,s)=>{let{src:t,alt:r,sizes:n,className:l,...c}=e;return(0,a.jsx)(d._V,{asChild:!0,ref:s,...c,children:(0,a.jsx)(i.default,{src:t,alt:r,fill:!0,sizes:n||"(max-width: 768px) 40px,(max-width: 1200px) 48px,56px",className:(0,o.cn)("object-cover",l)})})});u.displayName="AvatarImage";let m=l.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(d.H4,{ref:s,className:(0,o.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...r})});m.displayName=d.H4.displayName;var f=t(1341),p=t(6967),x=t(8867),h=t(3565);let v=f.bL,g=f.l9;f.YJ,f.ZL,f.Pb,f.z6,l.forwardRef((e,s)=>{let{className:t,inset:r,children:n,...l}=e;return(0,a.jsxs)(f.ZP,{ref:s,className:(0,o.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",t),...l,children:[n,(0,a.jsx)(p.A,{className:"ml-auto"})]})}).displayName=f.ZP.displayName,l.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(f.G5,{ref:s,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}).displayName=f.G5.displayName;let b=l.forwardRef((e,s)=>{let{className:t,sideOffset:r=4,...n}=e;return(0,a.jsx)(f.ZL,{children:(0,a.jsx)(f.UC,{ref:s,sideOffset:r,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})})});b.displayName=f.UC.displayName;let j=l.forwardRef((e,s)=>{let{className:t,inset:r,...n}=e;return(0,a.jsx)(f.q7,{ref:s,className:(0,o.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",r&&"pl-8",t),...n})});j.displayName=f.q7.displayName,l.forwardRef((e,s)=>{let{className:t,children:r,checked:n,...l}=e;return(0,a.jsxs)(f.H_,{ref:s,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...l,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(f.VF,{children:(0,a.jsx)(x.A,{className:"h-4 w-4"})})}),r]})}).displayName=f.H_.displayName,l.forwardRef((e,s)=>{let{className:t,children:r,...n}=e;return(0,a.jsxs)(f.hN,{ref:s,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(f.VF,{children:(0,a.jsx)(h.A,{className:"h-2 w-2 fill-current"})})}),r]})}).displayName=f.hN.displayName,l.forwardRef((e,s)=>{let{className:t,inset:r,...n}=e;return(0,a.jsx)(f.JU,{ref:s,className:(0,o.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",t),...n})}).displayName=f.JU.displayName,l.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(f.wv,{ref:s,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",t),...r})}).displayName=f.wv.displayName;var y=t(1466),N=t(5236),w=t(399),k=t(4595),C=t(9730),A=t(7058),z=t(2060),R=t(3312);function _(e){let{onClick:s}=e;return(0,a.jsxs)(R.$,{onClick:s,className:"flex items-center space-x-2 bg-green-500 text-white hover:bg-green-600 transition-colors duration-200 px-4 py-2 rounded-full",children:[(0,a.jsx)(z.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Add Place"})]})}var U=t(2640);function L(e){let{onClick:s}=e;return(0,a.jsxs)(R.$,{onClick:s,className:"flex items-center space-x-2 bg-purple-500 text-white hover:bg-purple-600 transition-colors duration-200 px-4 py-2 rounded-full",children:[(0,a.jsx)(U.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Admin"})]})}function I(e){let{onClick:s}=e;return(0,a.jsxs)(R.$,{onClick:s,className:"flex items-center space-x-2 bg-primary text-primary-foreground hover:bg-primary/90 transition-colors duration-200 px-4 py-2 rounded-full",children:[(0,a.jsx)(y.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Login"})]})}function P(){var e;let s=(0,n.useRouter)(),{user:t,loading:d}=(0,C.Q)(),[o,f]=(0,l.useState)({});(0,l.useEffect)(()=>{if(!t){f({});return}let e=(0,A.H9)(k.db,"users",t.uid),s=(0,A.aQ)(e,e=>{e.exists()&&f(e.data())});return()=>s()},[t]);let p=async()=>{await (0,w.CI)(k.j)},x=o.displayName||(null==t?void 0:t.displayName)||"User",h=o.avatarUrl||(null==t?void 0:t.photoURL)||"/default-avatar.png",z=o.jobOccupation||"";return(0,a.jsxs)("nav",{className:"p-4 flex items-center justify-between border-b border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(r.default,{href:"/",className:"flex items-center",children:(0,a.jsx)(i.default,{src:"/kivvly.svg",alt:"Kivvly Logo",className:"mr-2 h-6 w-auto sm:h-8 md:h-10",width:100,height:100})}),(0,a.jsx)(_,{onClick:()=>s.push("/addplace")}),t&&o.isAdmin&&(0,a.jsx)(L,{onClick:()=>s.push("/admin")})]}),(0,a.jsx)("div",{children:d?(0,a.jsx)("div",{className:"flex items-center justify-center h-6 w-6",children:(0,a.jsx)("div",{className:"w-6 h-6 border-2 border-blue-600 border-t-transparent border-solid rounded-full animate-spin"})}):t?(0,a.jsxs)(v,{children:[(0,a.jsx)(g,{asChild:!0,children:(0,a.jsxs)("button",{className:"flex items-center space-x-3 bg-transparent border-none px-2 py-1",children:[(0,a.jsxs)(c,{children:[(0,a.jsx)(u,{src:h,alt:x}),(0,a.jsx)(m,{children:null!==(e=x.charAt(0).toUpperCase())&&void 0!==e?e:"U"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-start leading-tight",children:[(0,a.jsx)("span",{className:"font-semibold",children:x}),z&&(0,a.jsx)("span",{className:"text-xs text-gray-500",children:z})]})]})}),(0,a.jsxs)(b,{children:[(0,a.jsxs)(j,{onClick:()=>s.push("/dashboard"),children:[(0,a.jsx)(y.A,{className:"mr-2 h-4 w-4"}),"Dashboard"]}),(0,a.jsxs)(j,{onClick:p,children:[(0,a.jsx)(N.A,{className:"mr-2 h-4 w-4"}),"Sign Out"]})]})]}):(0,a.jsx)(I,{onClick:()=>{s.push("/login")}})})]})}},3312:(e,s,t)=>{t.d(s,{$:()=>o});var a=t(5155),r=t(2115),n=t(2317),l=t(1027),d=t(1567);let i=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef((e,s)=>{let{className:t,variant:r,size:l,asChild:o=!1,...c}=e,u=o?n.DX:"button";return(0,a.jsx)(u,{className:(0,d.cn)(i({variant:r,size:l,className:t})),ref:s,...c})});o.displayName="Button"},9730:(e,s,t)=>{t.d(s,{AuthProvider:()=>i,Q:()=>o});var a=t(5155),r=t(2115),n=t(399),l=t(4595);let d=(0,r.createContext)({user:null,loading:!0});function i(e){let{children:s}=e,[t,i]=(0,r.useState)(null),[o,c]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{let e=(0,n.hg)(l.j,e=>{i(e),c(!1)});return()=>e()},[]),(0,a.jsx)(d.Provider,{value:{user:t,loading:o},children:s})}function o(){return(0,r.useContext)(d)}},4595:(e,s,t)=>{t.d(s,{db:()=>d,j:()=>i});var a=t(9904),r=t(7058),n=t(399);let l=(0,a.Wp)({apiKey:"AIzaSyCzuXne1Zr8WXpmOkuu8cTaY4xMv53mQeQ",authDomain:"kivvly.firebaseapp.com",projectId:"kivvly",storageBucket:"kivvly.firebasestorage.app",messagingSenderId:"413464866352",appId:"1:413464866352:web:61294a4121d0b0b28887f5"}),d=(0,r.aU)(l),i=(0,n.xI)(l)},1567:(e,s,t)=>{t.d(s,{cn:()=>n});var a=t(3463),r=t(9795);function n(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.QP)((0,a.$)(s))}}}]);