(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{7192:(e,t,r)=>{Promise.resolve().then(r.bind(r,1859))},1859:(e,t,r)=>{"use strict";r.d(t,{default:()=>M});var s=r(5155),a=r(2115),n=r(9047),i=r(3312),o=r(3900),l=r(7401);let c=(0,l.A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),d=(0,l.A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var u=r(2291),p=r(5565);let m=(0,l.A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),f=(0,l.A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),h=(0,l.A)("Navigation2",[["polygon",{points:"12 2 19 21 12 17 5 21 12 2",key:"x8c0qg"}]]),g={toilets:(0,s.jsx)("span",{className:"text-lg",children:"\uD83D\uDEBD"}),wifi:(0,s.jsx)("span",{className:"text-lg",children:"\uD83D\uDCF6"}),quietEnvironment:(0,s.jsx)("span",{className:"text-lg",children:"\uD83E\uDD2B"}),powerSocket:(0,s.jsx)("span",{className:"text-lg",children:"\uD83D\uDD0C"})};function x(e){let{name:t,photos:r,amenities:n,onDirectionAction:o}=e,[l,c]=(0,a.useState)(0),d=r&&r.length>0,u=d?r[l]:"/placeholder.svg";return(0,s.jsxs)("div",{className:" max-w-80 bg-white shadow-lg rounded-lg overflow-hidden",children:[(0,s.jsxs)("div",{className:"relative w-full h-40",children:[(0,s.jsx)("div",{className:"relative w-full h-full",children:(0,s.jsx)(p.default,{src:u,alt:"".concat(t," photo"),fill:!0,className:"object-cover"})}),d&&r.length>1&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:()=>{r&&0!==r.length&&c(e=>(e-1+r.length)%r.length)},className:"absolute left-2 top-1/2 -translate-y-1/2 p-1 rounded-full bg-gray-800 bg-opacity-60 text-white hover:bg-opacity-80",children:(0,s.jsx)(m,{className:"w-5 h-5"})}),(0,s.jsx)("button",{onClick:()=>{r&&0!==r.length&&c(e=>(e+1)%r.length)},className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 rounded-full bg-gray-800 bg-opacity-60 text-white hover:bg-opacity-80",children:(0,s.jsx)(f,{className:"w-5 h-5"})})]})]}),(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsx)("h2",{className:"text-xl mb-2 font-semibold",children:t}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:n.map((e,t)=>{var r;return(0,s.jsxs)("div",{className:"flex items-center bg-gray-100 rounded-full px-3 py-1 text-sm",children:[null!==(r=g[e.id])&&void 0!==r?r:(0,s.jsx)("span",{children:"•"}),(0,s.jsx)("span",{className:"ml-1",children:e.label})]},t)})}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsxs)(i.$,{className:"w-full",onClick:o,children:[(0,s.jsx)(h,{className:"mr-2 h-4 w-4"}),"Get Directions"]})})]})]})}var v=r(4595),b=r(7058);let y=(0,l.A)("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]),w={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"},k=0,j=new Map,S=e=>{if(j.has(e))return;let t=setTimeout(()=>{j.delete(e),T({type:w.REMOVE_TOAST,toastId:e})},1e6);j.set(e,t)},N=(e,t)=>{switch(t.type){case w.ADD_TOAST:return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case w.UPDATE_TOAST:return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case w.DISMISS_TOAST:{let{toastId:r}=t;return r?S(r):e.toasts.forEach(e=>{S(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case w.REMOVE_TOAST:if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},E=[],A={toasts:[]};function T(e){A=N(A,e),E.forEach(e=>{e(A)})}function C(e){let{...t}=e,r=(k=(k+1)%Number.MAX_VALUE).toString(),s=()=>T({type:w.DISMISS_TOAST,toastId:r});return T({type:w.ADD_TOAST,toast:{...t,id:r,open:!0,onOpenChange:e=>{e||s()}}}),{id:r,dismiss:s,update:e=>T({type:w.UPDATE_TOAST,toast:{...e,id:r}})}}function D(e){let{onLocateAction:t}=e,[r,n]=(0,a.useState)(!1),{toast:o}=function(){let[e,t]=a.useState(A);return a.useEffect(()=>(E.push(t),()=>{let e=E.indexOf(t);e>-1&&E.splice(e,1)}),[]),{...e,toast:C,dismiss:e=>T({type:w.DISMISS_TOAST,toastId:e})}}();return(0,s.jsxs)(i.$,{onClick:()=>{if(!("geolocation"in navigator)){o({title:"Geolocation not supported",description:"Your browser doesn't support geolocation.",variant:"destructive"});return}n(!0),navigator.geolocation.getCurrentPosition(e=>{n(!1),t(e.coords.latitude,e.coords.longitude),o({title:"Target Acquired",description:"Latitude: ".concat(e.coords.latitude,", Longitude: ").concat(e.coords.longitude)})},e=>{n(!1),o({title:"Unable to retrieve your location",description:e.message,variant:"destructive"})})},disabled:r,className:"\n        group relative overflow-hidden bg-gradient-to-r from-indigo-500 to-purple-600\n        text-white hover:from-indigo-600 hover:to-purple-700 transition-all duration-300\n        p-3 rounded-full shadow-lg\n        ".concat(r?"animate-pulse":"","\n      "),children:[(0,s.jsx)("span",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-20 transform rotate-45 translate-x-[-50%] group-hover:translate-x-[100%] transition-transform duration-700 "}),(0,s.jsx)("span",{className:"relative flex items-center justify-center",children:(0,s.jsx)(y,{className:"w-6 h-6"})})]})}let O=[],I={lat:40.7128,lng:-74.006},_={url:"/marker.svg",scaledSize:new google.maps.Size(40,40),anchor:new google.maps.Point(20,40)},P={url:"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent('\n    <svg xmlns="http://www.w3.org/2000/svg" width="60" height="60">\n      <circle cx="30" cy="30" r="10" fill="blue" opacity="1"/>\n      <circle cx="30" cy="30" r="20" fill="blue" opacity="0.5">\n        <animate attributeName="r" from="20" to="30" dur="1.5s" repeatCount="indefinite"/>\n        <animate attributeName="opacity" from="0.5" to="0" dur="1.5s" repeatCount="indefinite"/>\n      </circle>\n    </svg>\n  '),scaledSize:new google.maps.Size(60,60),anchor:new google.maps.Point(15,15)},L={"Power Outlets":"powerSocket","Quiet Environment":"quietEnvironment","Wi-Fi":"wifi",Toilets:"toilets"},z=[{key:"toilets",icon:"\uD83D\uDEBD"},{key:"wifi",icon:"\uD83D\uDCF6"},{key:"quietEnvironment",icon:"\uD83E\uDD2B"},{key:"powerSocket",icon:"\uD83D\uDD0C"}];function M(){let[e,t]=(0,a.useState)(null),[r,l]=(0,a.useState)(null),[p,m]=(0,a.useState)(null),f=(0,a.useRef)(null),[h,g]=(0,a.useState)([]),[y,w]=(0,a.useState)([]),[k,j]=(0,a.useState)({toilets:!1,wifi:!1,quietEnvironment:!1,powerSocket:!1}),[S,N]=(0,a.useState)(null),[E,A]=(0,a.useState)(!1),[T,C]=(0,a.useState)(!1),[M,R]=(0,a.useState)(null);(0,a.useEffect)(()=>{let e=()=>{A(window.innerWidth<=1024)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,a.useEffect)(()=>{(async()=>{try{let e=await fetch("https://ipapi.co/json/");if(!e.ok)throw Error("Failed to fetch IP-based location");let r=await e.json();t({lat:r.latitude,lng:r.longitude})}catch(e){console.warn("IP-based geolocation failed; using default center.",e),t(I)}})()},[]),(0,a.useEffect)(()=>{(async()=>{let e=await (0,b.GG)((0,b.rJ)(v.db,"remoteWorkLocations")),t=[];e.forEach(e=>{let r=e.data();"approved"===r.status&&t.push({id:e.id,...r})}),g(t),w(t)})()},[]),(0,a.useEffect)(()=>{w(h.filter(e=>{let t=Array.isArray(e.amenities)?e.amenities:[];return(!k.toilets||!!t.includes("toilets"))&&(!k.wifi||!!t.includes("wifi"))&&(!k.quietEnvironment||!!t.includes("quietEnvironment"))&&(!k.powerSocket||!!t.includes("powerSocket"))}))},[k,h]);let q=e=>{j(t=>({...t,[e]:!t[e]}))},U=(e,t)=>{let r=L[e];j(e=>({...e,[r]:t}))},F=(0,a.useCallback)(e=>{l(e)},[]);return e?(0,s.jsx)("div",{className:"relative w-full ios-safe-screen flex flex-col overflow-hidden",children:(0,s.jsxs)("div",{className:"flex-grow relative overflow-hidden",children:[(0,s.jsxs)(n.u6,{mapContainerClassName:"absolute inset-0 w-full h-full",center:e,zoom:12,onLoad:F,options:{styles:O,clickableIcons:!1,disableDefaultUI:!0},children:[y.map(e=>(0,s.jsx)(n.pH,{position:{lat:e.lat,lng:e.lng},onClick:()=>R(e),title:e.name||"Remote Work Location",icon:_},e.id)),M&&(0,s.jsx)(n.Fu,{position:{lat:M.lat,lng:M.lng},onCloseClick:()=>R(null),options:{disableAutoPan:!1,pixelOffset:new google.maps.Size(0,-20)},children:(0,s.jsx)("div",{style:{margin:0,padding:0},children:(0,s.jsx)(x,{name:M.name||"No Name",photos:M.images||[],amenities:function(e){if(!Array.isArray(e))return[];let t=[];return e.includes("toilets")&&t.push({id:"toilets",label:"Toilets"}),e.includes("wifi")&&t.push({id:"wifi",label:"Wi-Fi"}),e.includes("quietEnvironment")&&t.push({id:"quietEnvironment",label:"Quiet Environment"}),e.includes("powerSocket")&&t.push({id:"powerSocket",label:"Power Socket"}),t}(M.amenities),onDirectionAction:()=>{let e=M.lat,t=M.lng;window.open("https://www.google.com/maps/dir/?api=1&destination=".concat(e,",").concat(t),"_blank")}})})}),S&&(0,s.jsx)(n.pH,{position:S,icon:P,title:"Your current location"})]}),(0,s.jsx)("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 z-10 w-full max-w-3xl px-4",children:(0,s.jsxs)("div",{className:"relative bg-white/30 dark:bg-gray-800/30 backdrop-blur-xl border border-white/30 dark:border-gray-700/30 rounded-xl shadow-xl p-4",children:[(0,s.jsxs)("div",{className:"relative mb-4",children:[(0,s.jsx)("div",{className:"absolute left-4 top-1/2 -translate-y-1/2",children:(0,s.jsx)(c,{className:"h-5 w-5 text-gray-500"})}),(0,s.jsx)(n.jT,{onLoad:e=>{m(e)},onPlaceChanged:()=>{var e;if(!p)return;let r=p.getPlace();(null==r?void 0:null===(e=r.geometry)||void 0===e?void 0:e.location)&&t({lat:r.geometry.location.lat(),lng:r.geometry.location.lng()})},children:(0,s.jsx)(o.p,{ref:f,type:"text",placeholder:"Search for a location",className:"w-full pl-12 pr-24 h-14 text-lg rounded-lg border-0 shadow-lg"})}),(0,s.jsx)(i.$,{className:"absolute right-2 top-1/2 -translate-y-1/2 bg-gray-800 hover:bg-gray-700 text-white",onClick:()=>{var e;return null===(e=f.current)||void 0===e?void 0:e.focus()},children:(0,s.jsx)(d,{className:"h-5 w-5"})})]}),E?(0,s.jsx)("div",{className:"flex flex-wrap gap-4 justify-center p-2 rounded-lg",children:z.map(e=>{let{key:t,icon:r}=e;return(0,s.jsx)("button",{onClick:()=>q(t),className:"text-2xl px-3 py-2 rounded-full ".concat(k[t]?"bg-blue-600 text-white":"bg-white text-gray-700"),title:t,children:r},t)})}):(0,s.jsx)("div",{className:"flex flex-wrap gap-6 bg-white/20 dark:bg-gray-700/20 backdrop-blur-lg p-4 rounded-lg",children:Object.keys(L).map(e=>{let t=L[e];return(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(u.S,{id:e.toLowerCase().replace(" ","-"),checked:k[t],onCheckedChange:t=>U(e,!!t)}),(0,s.jsx)("label",{htmlFor:e.toLowerCase().replace(" ","-"),className:"text-sm font-medium leading-none",children:e})]},e)})})]})}),(0,s.jsxs)("div",{className:"absolute top-4 right-4 z-[9999] flex flex-col items-center",children:[(0,s.jsx)("div",{className:"mb-[10px]",children:(0,s.jsx)(D,{onLocateAction:(e,t)=>{if(r&&(r.setCenter({lat:e,lng:t}),N({lat:e,lng:t}),!T)){let e=r.getZoom()||12;r.setZoom(e+3),C(!0)}}})}),!E&&(0,s.jsxs)("div",{className:"flex flex-col items-center bg-white shadow-md rounded-md overflow-hidden",children:[(0,s.jsx)("button",{className:"px-3 py-2 text-xl font-bold border-b border-gray-200 hover:bg-gray-100",onClick:()=>{if(r){let e=r.getZoom()||12;r.setZoom(e+1)}},children:"+"}),(0,s.jsx)("button",{className:"px-3 py-2 text-xl font-bold hover:bg-gray-100",onClick:()=>{if(r){let e=r.getZoom()||12;r.setZoom(e-1)}},children:"–"})]})]})]})}):(0,s.jsx)("div",{className:"w-full h-screen flex items-center justify-center",children:(0,s.jsx)("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent border-solid rounded-full animate-spin"})})}},3312:(e,t,r)=>{"use strict";r.d(t,{$:()=>c});var s=r(5155),a=r(2115),n=r(2317),i=r(1027),o=r(1567);let l=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,t)=>{let{className:r,variant:a,size:i,asChild:c=!1,...d}=e,u=c?n.DX:"button";return(0,s.jsx)(u,{className:(0,o.cn)(l({variant:a,size:i,className:r})),ref:t,...d})});c.displayName="Button"},2291:(e,t,r)=>{"use strict";r.d(t,{S:()=>l});var s=r(5155),a=r(2115),n=r(5415),i=r(8867),o=r(1567);let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.bL,{ref:t,className:(0,o.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",r),...a,children:(0,s.jsx)(n.C1,{className:(0,o.cn)("flex items-center justify-center text-current"),children:(0,s.jsx)(i.A,{className:"h-4 w-4"})})})});l.displayName=n.bL.displayName},3900:(e,t,r)=>{"use strict";r.d(t,{p:()=>i});var s=r(5155),a=r(2115),n=r(1567);let i=a.forwardRef((e,t)=>{let{className:r,type:a,...i}=e;return(0,s.jsx)("input",{type:a,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...i})});i.displayName="Input"},4595:(e,t,r)=>{"use strict";r.d(t,{db:()=>o,j:()=>l});var s=r(9904),a=r(7058),n=r(399);let i=(0,s.Wp)({apiKey:"AIzaSyCzuXne1Zr8WXpmOkuu8cTaY4xMv53mQeQ",authDomain:"kivvly.firebaseapp.com",projectId:"kivvly",storageBucket:"kivvly.firebasestorage.app",messagingSenderId:"413464866352",appId:"1:413464866352:web:61294a4121d0b0b28887f5"}),o=(0,a.aU)(i),l=(0,n.xI)(i)},1567:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var s=r(3463),a=r(9795);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}},5415:(e,t,r)=>{"use strict";r.d(t,{C1:()=>S,bL:()=>j});var s=r(2115),a=r(8068),n=r(8166),i=r(3610),o=r(1488),l=r(7510),c=r(7028),d=r(3360),u=r(5155),p="Checkbox",[m,f]=(0,n.A)(p),[h,g]=m(p),x=s.forwardRef((e,t)=>{let{__scopeCheckbox:r,name:n,checked:l,defaultChecked:c,required:p,disabled:m,value:f="on",onCheckedChange:g,form:x,...v}=e,[b,j]=s.useState(null),S=(0,a.s)(t,e=>j(e)),N=s.useRef(!1),E=!b||x||!!b.closest("form"),[A=!1,T]=(0,o.i)({prop:l,defaultProp:c,onChange:g}),C=s.useRef(A);return s.useEffect(()=>{let e=null==b?void 0:b.form;if(e){let t=()=>T(C.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[b,T]),(0,u.jsxs)(h,{scope:r,state:A,disabled:m,children:[(0,u.jsx)(d.sG.button,{type:"button",role:"checkbox","aria-checked":w(A)?"mixed":A,"aria-required":p,"data-state":k(A),"data-disabled":m?"":void 0,disabled:m,value:f,...v,ref:S,onKeyDown:(0,i.m)(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,i.m)(e.onClick,e=>{T(e=>!!w(e)||!e),E&&(N.current=e.isPropagationStopped(),N.current||e.stopPropagation())})}),E&&(0,u.jsx)(y,{control:b,bubbles:!N.current,name:n,value:f,checked:A,required:p,disabled:m,form:x,style:{transform:"translateX(-100%)"},defaultChecked:!w(c)&&c})]})});x.displayName=p;var v="CheckboxIndicator",b=s.forwardRef((e,t)=>{let{__scopeCheckbox:r,forceMount:s,...a}=e,n=g(v,r);return(0,u.jsx)(c.C,{present:s||w(n.state)||!0===n.state,children:(0,u.jsx)(d.sG.span,{"data-state":k(n.state),"data-disabled":n.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});b.displayName=v;var y=e=>{let{control:t,checked:r,bubbles:a=!0,defaultChecked:n,...i}=e,o=s.useRef(null),c=function(e){let t=s.useRef({value:e,previous:e});return s.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(r),d=(0,l.X)(t);s.useEffect(()=>{let e=o.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(c!==r&&t){let s=new Event("click",{bubbles:a});e.indeterminate=w(r),t.call(e,!w(r)&&r),e.dispatchEvent(s)}},[c,r,a]);let p=s.useRef(!w(r)&&r);return(0,u.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:null!=n?n:p.current,...i,tabIndex:-1,ref:o,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function w(e){return"indeterminate"===e}function k(e){return w(e)?"indeterminate":e?"checked":"unchecked"}var j=x,S=b}},e=>{var t=t=>e(e.s=t);e.O(0,[992,523,84,353,441,517,358],()=>t(7192)),_N_E=e.O()}]);